<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CRIB Storage</title>
</head>

<style>
    input {
        padding: 7px;
        height: 40px;
    }

    button#btnInsert {
        padding: 7px;
        height: 57px;
        background: green;
        color:ghostwhite;
    }

      button#btnSearch {
        padding: 7px;
        height: 57px;
    }

    legend {
        font-size: x-large;
    }

    #title {
    margin: auto;
    padding: 10px;
    width: 20%;
    }

    fieldset{
        margin-bottom: 20px;
    }

</style>
<body>
    <h1 id="title">CRIB</h1>

    <fieldset>
        <legend>Insert an item</legend>
        <input type="text" id="inputKey" placeholder="Enter item...">
        <input type="text" id="inputValue" placeholder="Enter location...">
        <button id="btnInsert" type=button">Add item</button>
    </fieldset>

    <fieldset>
            <legend>Where did I put it?</legend>
            <input type="text" id="searchItem" placeholder="Search for an item...">
            <button id="btnSearch" type=button">Search</button>
            <p>=></p>
            <p id="location"></p>

    </fieldset>

    <fieldset>
            <legend>Local storage</legend>
            <div id="isOutout"></div>
        </fieldset>


    <script>

        const inputKey = document.getElementById("inputKey");
        const inputValue = document.getElementById("inputValue");
        const btnInsert = document.getElementById("btnInsert");
        const isOutout = document.getElementById("isOutout");
        
        const searchItem = document.getElementById("searchItem");
        const btnSearch = document.getElementById("btnSearch");

        btnInsert.onclick = function() {

            let key = inputKey.value;
            let value = inputValue.value;

            if (key == "" || value == "") {
                alert ("\t\t\tDobby says: \nPlease enter something other than spaces!");
            }
            else {
                localStorage.setItem(key, value);
            }
        };
        
        for (let l=0; l< localStorage.length; l++) {
            let storedKey = localStorage.key(l);
            let storedValue = localStorage.getItem(storedKey);

            isOutout.innerHTML += `${storedKey}: ${storedValue}<br /> `;
        }
        
        btnSearch.onclick = function() {
            let itemToSearch = searchItem.value;
            if (itemToSearch == "") {
                alert ("\t\t\tDobby says: \nPlease enter something other than spaces!");
            }
            else {
                if (localStorage.getItem(`${itemToSearch}`) === null) {
                    alert ("\t\t\tDobby says: \nDafuq? item is not in CRIB!");
                }
            } 

        };
        



    </script>
</body>
</html>